"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["5455"],{39098:function(e,t,r){r.d(t,{T:function(){return h}});var a=r(84982),n=r(19218);let o=e=>(0,a.h)("a",{class:"link",href:e,target:"_blank",rel:"noopener noreferrer"},e),i=e=>"string"==typeof e?(0,a.h)("b",null,e):(0,a.h)("b",null,l(e)),s=e=>"string"==typeof e?(0,a.h)("i",null,e):(0,a.h)("i",null,l(e)),c=e=>"string"==typeof e?(0,a.h)("s",null,e):(0,a.h)("b",null,l(e)),d=e=>"string"==typeof e?e:(0,a.h)("p",null,l(e)),l=e=>e.map(e=>{switch(e.type){case"a":if("string"==typeof e.content)return o(e.content);case"b":return i(e.content);case"i":return s(e.content);case"s":return c(e.content);case"q":return(0,a.h)("span",{class:"block-quote"});default:return d(e.content)}}),h=({message:e})=>{let t=e.slice(0,n.M),r=(0,n.e)(t,!0),o=(0,n.s)(t);return(0,a.h)("p",null,0!==r.length&&(0,a.h)("blockquote",null,r.split("\n").map(e=>{let t=(0,n.p)(e);return(0,a.h)("p",null,l(t))})),o.split("\n").map(e=>{let t=(0,n.p)(e);return(0,a.h)("p",null,l(t))}))}},19218:function(e,t,r){r.d(t,{M:function(){return w},T:function(){return s},d:function(){return n},e:function(){return u},f:function(){return d},g:function(){return o},h:function(){return i},i:function(){return c},j:function(){return a},k:function(){return g},p:function(){return f},r:function(){return l},s:function(){return v}}),r(51943);let a=e=>{let t=null;try{let{target:r,message:a}=JSON.parse(e.message);t=void 0===r||void 0===a?e:Object.assign(Object.assign({},e),{targetUserIds:r,message:a})}catch(r){t=e}return t};function n(e,t){return e.localeCompare(t)}function o(e){return e.sort((e,t)=>e.localeCompare(t)).join("_")}function i(e,t){if(null==e)return!0;for(let r of e)if("file"===r.kind){let e=r.getAsFile();t(r.type.startsWith("image/")?"image":"file",e)}}let s="dm__";function c(e){return e.isDirectMessage}function d(e){return[...new Set(e)].sort(n).join("<>")}function l(e){return e.split("").reverse().join("")}let h=/^\*([^*\s]+)\*/,p=/^_([^_\s]+)_/,b=/^~([^~\s]+)~/,y=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.,~#?&//=]*)/,g=/<blockquote>[.\s\S]*<\/blockquote>\n\n/m;function u(e,t=!1){if(!g.test(e))return"";let r=0,a=13;return t&&(r=12,a=0),e.substring(e.indexOf("<blockquote>")+r,e.indexOf("</blockquote>")+a)}function v(e){return e.replace(g,"")}let w=2e3,x=["<a>","<b>","<i>","<q>","<s>"];function f(e){let[t]=function e(t,r=""){let a=[];if(0===t.length)return[a,0];let n=0;for(;n<t.length;){if(r.length&&r===t.substring(n,n+r.length))return[a,n+r.length];if(x.includes(t.substring(n,n+3))){let[r,o]=e(t.substring(n+3),`</${t[n+1]}>`);a.push({type:t[n+1],content:1===r.length&&"plain_text"===r[0].type?r[0].content:r}),n+=o+3}else{let e=a[a.length-1];(!e||"plain_text"!==e.type)&&(a.push({type:"plain_text",content:""}),e=a[a.length-1]),e.content+=t[n],n++}}return[a,n]}(e=(e=e.split(" ").map(e=>{if(y.test(e)){let t=y.exec(e);e=e.replace(t[0],`<a>${t[0]}</a>`)}else{if(h.test(e)){let t=h.exec(e);e=e.replace(t[0],`<b>${t[1]}</b>`)}if(p.test(e)){let t=p.exec(e);e=e.replace(t[0],`<i>${t[1]}</i>`)}if(b.test(e)){let t=b.exec(e);e=e.replace(t[0],`<s>${t[1]}</s>`)}}return e}).join(" ")).split(" ").map((e,t)=>">"===e&&(0===t||">"===e[t-1])?"<q></q>":e).join(" "));return t}},96302:function(e,t,r){r.r(t),r.d(t,{dyte_channel_selector_ui:function(){return s}});var a=r(84982);r(39415),r(79598),r(78410);var n=r(48724),o=r(83041);r(51943);var i=r(39098);r(94098),r(81479),r(19218);let s=class{constructor(e){(0,a.r)(this,e),this.channelChanged=(0,a.c)(this,"channelChanged",7),this.handleResize=e=>{this.isHidden=!e.matches},this.channelSelected=e=>{this.channelChanged.emit(e),this.onRevealClicked()},this.onSearchInput=e=>{this.searchQuery=e.target.value},this.onRevealClicked=()=>{!this.matchMedia.matches&&(this.isHidden=!this.isHidden)},this.renderChannelDisplayPic=e=>{let t=e.displayPictureUrl&&0!==e.displayPictureUrl.length;return e.isDirectMessage||t?(0,a.h)("div",{class:"channel-display"},(0,a.h)("dyte-avatar",{participant:{name:e.displayName,picture:e.displayPictureUrl}})):(0,a.h)("div",{class:"channel-display"},(0,a.h)("dyte-icon",{icon:this.iconPack.people,slot:"start"}))},this.renderRecentMessage=e=>{if(!e.latestMessage)return(0,a.h)("p",{class:"latest-msg new"},this.t("chat.start_conversation"));let t=e.isDirectMessage?"":`${e.latestMessage.displayName}: `;if("text"===e.latestMessage.type)return(0,a.h)("p",{class:"latest-msg"},t,(0,a.h)(i.T,{message:e.latestMessage.message}));let r="";return"image"===e.latestMessage.type?r=this.t("image"):"file"===e.latestMessage.type&&(r=this.t("file")),(0,a.h)("p",{class:"latest-msg"},`${t}${r}`)},this.channels=void 0,this.selectedChannelId=void 0,this.iconPack=n.d,this.t=(0,o.u)(),this.showRecentMessage=!1,this.isHidden=!1,this.searchQuery=""}connectedCallback(){this.matchMedia=window.matchMedia("(orientation: landscape) and (min-width: 400px)"),this.matchMedia.addEventListener("change",this.handleResize),this.isHidden=!this.matchMedia.matches}disconnectedCallback(){this.matchMedia.removeEventListener("change",this.handleResize)}componentDidRender(){this.$el.style.transform=this.isHidden?"translateX(-380px)":"translateX(0)"}getTimeLabel(e){let t=e.time,r=new Date,a=new Date(r);a.setDate(r.getDate()-1);let n=new Date(r);if(n.setDate(r.getDate()-r.getDay()-1),t.toDateString()===r.toDateString())return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(t.toDateString()===a.toDateString())return this.t("date.yesteday");if(t>n)return this.t(["date.sunday","date.monday","date.tuesday","date.wednesday","date.thursday","date.friday","date.saturday"][t.getDay()]);else return Intl.DateTimeFormat([],{day:"2-digit",month:"2-digit",year:"2-digit"}).format(t)}render(){return(0,a.h)(a.H,null,(0,a.h)("div",{class:"container",ref:e=>this.$el=e},this.isHidden&&(0,a.h)("dyte-button",{iconPack:this.iconPack,t:this.t,kind:"icon",variant:"ghost",size:"md",onClick:this.onRevealClicked,class:"sidebar-btn"},(0,a.h)("dyte-icon",{icon:this.isHidden?this.iconPack.chevron_left:this.iconPack.dismiss,iconPack:this.iconPack,t:this.t})),(0,a.h)("slot",{name:"header"}),(0,a.h)("div",{class:"search-wrapper"},(0,a.h)("div",{class:"search"},(0,a.h)("input",{type:"search",autocomplete:"off",placeholder:this.t("chat.search_conversations"),onInput:this.onSearchInput}),(0,a.h)("dyte-icon",{icon:this.iconPack.search,iconPack:this.iconPack,t:this.t,class:"search-icon"}))),(0,a.h)("div",{class:"channel-container scrollbar",role:"list"},this.channels.filter(e=>""===this.searchQuery||e.displayName.includes(this.searchQuery)).map(e=>(0,a.h)("div",{class:{channel:!0,selected:e.id===this.selectedChannelId,highlight:!!e.unreadCount},role:"listitem",onClick:()=>{this.channelSelected(e.id)}},this.renderChannelDisplayPic(e),(0,a.h)("div",{class:"channel-card","is-direct-message":e.isDirectMessage},(0,a.h)("div",{class:"recent-message-row"},(0,a.h)("span",{class:"channel-name"},e.displayName),e.latestMessage&&(0,a.h)("span",{class:"latest-msg-time"},this.getTimeLabel(e.latestMessage))),(0,a.h)("div",{class:"recent-message-row"},this.renderRecentMessage(e),e.unreadCount>0&&e.id!==this.selectedChannelId?(0,a.h)("span",{class:"new-msgs-count"},e.unreadCount<99?e.unreadCount:"99+"):null)))))),!this.isHidden&&(0,a.h)("div",{class:"overlay-container"},(0,a.h)("dyte-button",{iconPack:this.iconPack,t:this.t,kind:"icon",variant:"ghost",size:"md",onClick:this.onRevealClicked,class:"sidebar-btn"},(0,a.h)("dyte-icon",{icon:this.isHidden?this.iconPack.chevron_left:this.iconPack.dismiss,iconPack:this.iconPack,t:this.t}))))}};s.style=".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex}.container{display:flex;height:100%;width:var(--dyte-space-96, 384px);flex-direction:column;position:absolute;--tw-translate-x:calc(var(--dyte-space-96, 384px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-sm, 1px);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-right-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity));transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}@keyframes fade{0%{opacity:0}100%{opacity:1}}.overlay-container{width:100vw;--tw-translate-x:var(--dyte-space-96, 384px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;animation:fade 0.8s}.overlay-container .sidebar-btn{position:static;padding:var(--dyte-space-4, 16px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.sidebar-btn{position:absolute;right:calc(var(--dyte-space-9, 36px) * -1);top:var(--dyte-space-4, 16px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-7, 28px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-sm, 4px)}@media (orientation: landscape) and (min-width: 400px){.container{position:static;--tw-translate-x:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sidebar-btn,.overlay-container{display:none}}.search-wrapper{display:flex;align-items:center;gap:var(--dyte-space-2, 8px);padding:var(--dyte-space-2, 8px);border-left-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity))}.search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--dyte-border-radius-sm, 4px);margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);height:var(--dyte-space-8, 32px);width:100%}.search .search-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));border-top-right-radius:var(--dyte-border-radius-sm, 4px);border-bottom-right-radius:var(--dyte-border-radius-sm, 4px)}.search input{box-sizing:border-box;width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;font-size:14px;line-height:1.25rem}.search input::-moz-placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input::placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input{border-top-left-radius:var(--dyte-border-radius-sm, 4px);border-bottom-left-radius:var(--dyte-border-radius-sm, 4px)}.channel-container{box-sizing:border-box;display:flex;flex-direction:column;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);overflow-y:scroll}.channel-container .channel{display:flex;align-items:center;justify-content:space-between;gap:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px);border-left-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-border-opacity))}.channel-container .channel:hover{cursor:pointer;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-900, var(--dyte-colors-text-900, 255 255 255 / 0.88)))}.channel-container .channel:hover .latest-msg-time,.channel-container .channel:hover .latest-msg,.channel-container .channel:hover .latest-msg.new{color:rgb(var(--dyte-colors-text-on-brand-700, var(--dyte-colors-text-700, 255 255 255 / 0.64)))}.channel-container .channel-display{display:flex;gap:var(--dyte-space-2, 8px);align-self:center;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-0, 0px)}.channel-container .channel-display dyte-avatar{height:var(--dyte-space-9, 36px);width:var(--dyte-space-9, 36px);flex-shrink:0;font-size:12px}.channel-container .channel-display dyte-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);flex-shrink:0;padding:var(--dyte-space-2, 8px);border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.channel-container .channel-card{width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-1, 4px)}.channel-container .channel-card .channel-name{max-width:var(--dyte-space-60, 240px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:500}.channel-container .channel-card .latest-msg{margin:var(--dyte-space-0, 0px);max-width:var(--dyte-space-56, 224px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}.channel-container .channel-card .latest-msg.new{font-weight:200;font-style:italic;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.channel-container .channel-card .latest-msg-time{font-size:12px;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.channel-container .channel-meta{width:var(--dyte-space-12, 48px);display:flex;flex-direction:column;align-items:flex-end;justify-content:space-between;gap:var(--dyte-space-1\\.5, 6px);font-size:12px;font-weight:600}.channel-container .new-msgs-count{height:var(--dyte-space-4, 16px);min-width:var(--dyte-space-4, 16px);padding-top:1px;padding-bottom:1px;padding-left:2px;padding-right:2px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:var(--dyte-border-radius-sm, 4px);text-align:center;font-size:12px}.channel-container .selected{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-900, var(--dyte-colors-text-900, 255 255 255 / 0.88)))}.channel-container .selected .latest-msg-time,.channel-container .selected .latest-msg,.channel-container .selected .latest-msg.new{color:rgb(var(--dyte-colors-text-on-brand-700, var(--dyte-colors-text-700, 255 255 255 / 0.64)))}.channel-container .highlight .channel-title span{font-weight:700}.latest-msg p{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-1, 4px);display:inline-block}.latest-msg blockquote{display:none}.recent-message-row{margin-bottom:var(--dyte-space-2, 8px);display:flex;width:100%;flex-direction:row;justify-content:space-between}"}}]);
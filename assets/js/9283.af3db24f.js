"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["9283"],{29319:function(e,t,s){s.r(t),s.d(t,{dyte_meeting:function(){return m}});var i=s(84982),n=s(86620),r=s(9245),o=s(83041),a=s(71783),d=s(96632),l=s(39415);s(79598),s(78410);var c=s(51943),h=s(36677),g=s(48724);s(34166),s(9079),s(81479),s(94098);let m=class{constructor(e){(0,i.r)(this,e),this.stateUpdate=(0,i.c)(this,"dyteStateUpdate",7),this.roomJoinedListener=()=>{this.setStates({meeting:"joined"}),l.s.meeting="joined"},this.socketServiceRoomJoinedListener=()=>{"ON_STAGE"!==this.meeting.stage.status&&void 0!==this.meeting.stage.status&&(this.setStates({meeting:"joined"}),l.s.meeting="joined")},this.waitlistedListener=()=>{this.setStates({meeting:"waiting"}),l.s.meeting="waiting"},this.roomLeftListener=({state:e})=>{let t=this.states||l.s;if((null==t?void 0:t.roomLeftState)==="disconnected"){this.setStates({meeting:"ended",roomLeftState:e}),l.s.meeting="ended";return}this.setStates({meeting:"ended",roomLeftState:e}),l.s.meeting="ended",l.s.roomLeftState=e},this.mediaPermissionUpdateListener=({kind:e,message:t})=>{if(["audio","video"].includes(e)){if("ACCEPTED"===t||"NOT_REQUESTED"===t||l.s.activeDebugger)return;let s={enabled:!0,kind:e};this.setStates({activePermissionsMessage:s}),l.s.activePermissionsMessage=s}},this.joinStateAcceptedListener=()=>{this.setStates({activeJoinStage:!0}),this.stateUpdate.emit({activeJoinStage:!0}),l.s.activeJoinStage=!0},this.loadConfigFromPreset=!0,this.applyDesignSystem=!0,this.mode="fixed",this.leaveOnUnmount=!1,this.meeting=void 0,this.showSetupScreen=void 0,this.t=(0,o.u)(),this.config=a.d,this.iconPackUrl=void 0,this.size=void 0,this.gridLayout="row",this.states={meeting:"idle",prefs:(0,c.g)()},this.iconPack=g.d}connectedCallback(){var e;this.resizeObserver=new h.i(()=>this.handleResize()),this.resizeObserver.observe(this.host),this.applyDesignSystem&&(null===(e=this.config)||void 0===e?void 0:e.designTokens)!=null&&"undefined"!=typeof document&&(0,n.p)(document.documentElement,this.config.designTokens),this.meetingChanged(this.meeting),this.iconPackUrlChanged(this.iconPackUrl)}clearListeners(e){void 0!=e&&(e.self.removeListener("roomJoined",this.roomJoinedListener),e.self.removeListener("socketServiceRoomJoined",this.roomJoinedListener),e.meta.removeListener("socketReconnected",this.roomJoinedListener),e.self.removeListener("roomLeft",this.roomLeftListener),e.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),e.self.removeListener("waitlisted",this.waitlistedListener),e.self.removeListener("joinStageRequestAccepted",this.joinStateAcceptedListener))}disconnectedCallback(){var e;this.leaveOnUnmount&&(null===(e=this.meeting)||void 0===e||e.leaveRoom()),this.resizeObserver.disconnect(),this.clearListeners(this.meeting)}meetingChanged(e){var t,s;if(null!=e){if(this.setStates({viewType:e.meta.viewType}),this.loadConfigFromPreset&&null!=e.self.config){let s=e.self.config,{config:i,data:r}=(0,n.g)(s,e);this.config===a.d&&(this.config=i),null==this.showSetupScreen&&(this.showSetupScreen=r.showSetupScreen),e.connectedMeetings.supportsConnectedMeetings&&(null===(t=l.s.activeBreakoutRoomsManager)||void 0===t?void 0:t.destinationMeetingId)&&(this.showSetupScreen=!1)}this.applyDesignSystem&&(null===(s=this.config)||void 0===s?void 0:s.designTokens)!=null&&"undefined"!=typeof document&&(0,n.p)(document.documentElement,this.config.designTokens),"LIVESTREAM"===e.meta.viewType&&e.self.addListener("socketServiceRoomJoined",this.socketServiceRoomJoinedListener),e.self.addListener("roomJoined",this.roomJoinedListener),e.self.addListener("waitlisted",this.waitlistedListener),e.self.addListener("roomLeft",this.roomLeftListener),e.self.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),e.self.addListener("joinStageRequestAccepted",this.joinStateAcceptedListener),e.connectedMeetings.supportsConnectedMeetings&&e.connectedMeetings.once("changingMeeting",this.handleChangingMeeting),e.self.roomJoined?(this.states=Object.assign(Object.assign({},this.states),{meeting:"joined"}),l.s.meeting="joined"):this.showSetupScreen?(this.states=Object.assign(Object.assign({},this.states),{meeting:"setup"}),l.s.meeting="setup"):e.joinRoom()}}async iconPackUrlChanged(e){this.iconPack=await (0,r.g)(e)}listenState(e){e.stopPropagation(),this.setStates(e.detail)}handleChangingMeeting(e){l.s.activeBreakoutRoomsManager=Object.assign(Object.assign({},l.s.activeBreakoutRoomsManager),{destinationMeetingId:e})}handleResize(){this.size=(0,r.a)(this.host.clientWidth)}setStates(e){let t=Object.assign({},this.states);(0,n.m)(t,e),this.states=t}render(){var e,t;let s={meeting:this.meeting,size:this.size,states:this.states||l.s,config:this.config,iconPack:this.iconPack,t:this.t},n={"dyte-grid":{layout:this.gridLayout}};return(null===(t=null===(e=this.meeting)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.viewType)==="CHAT"?(0,i.h)(d.R,{element:"dyte-chat",defaults:s}):(0,i.h)(d.R,{element:"dyte-meeting",defaults:s,asHost:!0,elementProps:n})}get host(){return(0,i.a)(this)}static get watchers(){return{meeting:["meetingChanged"],iconPackUrl:["iconPackUrlChanged"]}}};m.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));overflow:hidden;position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);height:100%;width:100%}:host([mode='fill']){position:relative}"},96632:function(e,t,s){s.d(t,{R:function(){return l},l:function(){return d}});var i=s(84982);let n=({element:e,size:t,states:s={},config:i={}})=>{let n=[],r=null==i?void 0:i.root[e],o=e=>{n.push(e),"string"==typeof t&&n.push(`${e}.${t}`)};if(o(e),"object"==typeof r&&!Array.isArray(r)&&null!==r){let{state:t,states:i}=r,n=[];if(Array.isArray(i)){for(let t of((n=i.filter(e=>s[e])).sort(),n))o(`${e}.${t}`);n.length>1&&o([e,...n].join("."))}if("string"==typeof t){let i=`${e}[${t}=${s[t]}]`;for(let e of(o(i),n))o(`${i}.${e}`);n.length>1&&o([i,...n].join("."))}}return n},r=({selectors:e,styles:t})=>{if(!Array.isArray(e)||null==t)return{};let s={};for(let i of e){let e=t[i];null!=e&&Object.assign(s,e)}return s},o=({selectors:e,root:t})=>{if(!t||!Array.isArray(e))return[];let s=[];for(let i of e){let e=t[i];if(Array.isArray(e))s=[...e];else if(e){if(e.children&&(s=[...e.children]),Array.isArray(e.remove))for(let t of e.remove)s=s.filter(e=>"string"==typeof e?e!==t:!Array.isArray(e)||e[0]!==t);if(e.addBefore)for(let[t,i]of Object.entries(e.addBefore)){let e=s.findIndex(e=>"string"==typeof e?e===t:!!Array.isArray(e)&&e[0]===t);e>=0&&s.splice(e,0,...i)}Array.isArray(e.add)&&(s=s.concat(e.add)),Array.isArray(e.prepend)&&(s=e.prepend.concat(s))}}return s},a=({elements:e,defaults:t,props:s={},deepProps:n=!1,elementProps:r={}})=>Array.isArray(e)&&0!==e.length?e.map(e=>(0,i.h)(l,{element:e,defaults:t,props:s,childProps:n&&s,elementProps:r})):null,d=({element:e,defaults:t,props:s={},elementProps:i={}})=>{var r;let{config:a,size:d,states:l}=t,c,h={},g=[];Array.isArray(e)?[c,h,...g]=e:c=e;let m=null===(r=null==a?void 0:a.root)||void 0===r?void 0:r[c];return null!=m&&"props"in m&&(s=Object.assign(Object.assign({},m.props),s)),s=Object.assign(Object.assign({},s),h),c in i&&(s=Object.assign(Object.assign({},s),i[c])),o({selectors:n({element:c,size:d,states:l,config:a}),root:a.root}).length},l=({element:e,defaults:t,childProps:s={},props:d={},onlyChildren:l=!1,asHost:c=!1,deepProps:h=!1,elementProps:g={}},m)=>{var f;let{config:p,size:u,states:y}=t,v,b={},L=[];Array.isArray(e)?[v,b,...L]=e:v=e;let S=null===(f=null==p?void 0:p.root)||void 0===f?void 0:f[v];null!=S&&"props"in S&&(d=Object.assign(Object.assign({},S.props),d)),d=Object.assign(Object.assign({},d),b),v in g&&(d=Object.assign(Object.assign({},d),g[v]));let j=n({element:v,size:u,states:y,config:p}),A=o({selectors:j,root:p.root});if(l)return(0,i.h)(a,{elements:A,defaults:t,props:s,deepProps:h,elementProps:g});let O=r({selectors:j,styles:p.styles});if(c)return(0,i.h)(i.H,Object.assign({},t,{style:O},d),(0,i.h)(a,{elements:A,defaults:t,props:s,deepProps:h,elementProps:g}),m,L.map(e=>{if(Array.isArray(e)){let[s,n]=e;return(0,i.h)(s,Object.assign({},t,n))}return e}));if(["dyte-header","dyte-controlbar"].includes(v)&&(d.disableRender=!0),v.startsWith("dyte-"))return(0,i.h)(v,Object.assign({},t,{style:O},d),(0,i.h)(a,{elements:A,defaults:t,props:s,deepProps:h,elementProps:g}),m,L.map(e=>{if(Array.isArray(e)){let[s,n]=e;return(0,i.h)(s,Object.assign({},t,n))}return e}));{let[e,n]=v.split("#");return(0,i.h)(e,Object.assign({id:n,style:O},d),(0,i.h)(a,{elements:A,defaults:t,props:s,deepProps:h,elementProps:g}),m,L.map(e=>{if(Array.isArray(e)){let[s,n]=e;return(0,i.h)(s,Object.assign({},t,n))}return e}))}}},9245:function(e,t,s){s.d(t,{a:function(){return o},g:function(){return n}});var i=s(48724);let n=async e=>{if(null==e)return i.d;try{let t=await fetch(e);if(!t.ok)return i.d;return Object.assign({},i.d,await t.json())}catch(e){return i.d}},r={md:768,lg:1080},o=e=>e>=r.lg?"lg":e>=r.md?"md":"sm"}}]);
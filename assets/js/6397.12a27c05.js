"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["6397"],{19218:function(t,e,r){r.d(e,{M:function(){return m},T:function(){return a},d:function(){return i},e:function(){return b},f:function(){return u},g:function(){return s},h:function(){return o},i:function(){return l},j:function(){return n},k:function(){return g},p:function(){return v},r:function(){return d},s:function(){return y}}),r(51943);let n=t=>{let e=null;try{let{target:r,message:n}=JSON.parse(t.message);e=void 0===r||void 0===n?t:Object.assign(Object.assign({},t),{targetUserIds:r,message:n})}catch(r){e=t}return e};function i(t,e){return t.localeCompare(e)}function s(t){return t.sort((t,e)=>t.localeCompare(e)).join("_")}function o(t,e){if(null==t)return!0;for(let r of t)if("file"===r.kind){let t=r.getAsFile();e(r.type.startsWith("image/")?"image":"file",t)}}let a="dm__";function l(t){return t.isDirectMessage}function u(t){return[...new Set(t)].sort(i).join("<>")}function d(t){return t.split("").reverse().join("")}let c=/^\*([^*\s]+)\*/,p=/^_([^_\s]+)_/,h=/^~([^~\s]+)~/,f=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.,~#?&//=]*)/,g=/<blockquote>[.\s\S]*<\/blockquote>\n\n/m;function b(t,e=!1){if(!g.test(t))return"";let r=0,n=13;return e&&(r=12,n=0),t.substring(t.indexOf("<blockquote>")+r,t.indexOf("</blockquote>")+n)}function y(t){return t.replace(g,"")}let m=2e3,x=["<a>","<b>","<i>","<q>","<s>"];function v(t){let[e]=function t(e,r=""){let n=[];if(0===e.length)return[n,0];let i=0;for(;i<e.length;){if(r.length&&r===e.substring(i,i+r.length))return[n,i+r.length];if(x.includes(e.substring(i,i+3))){let[r,s]=t(e.substring(i+3),`</${e[i+1]}>`);n.push({type:e[i+1],content:1===r.length&&"plain_text"===r[0].type?r[0].content:r}),i+=s+3}else{let t=n[n.length-1];(!t||"plain_text"!==t.type)&&(n.push({type:"plain_text",content:""}),t=n[n.length-1]),t.content+=e[i],i++}}return[n,i]}(t=(t=t.split(" ").map(t=>{if(f.test(t)){let e=f.exec(t);t=t.replace(e[0],`<a>${e[0]}</a>`)}else{if(c.test(t)){let e=c.exec(t);t=t.replace(e[0],`<b>${e[1]}</b>`)}if(p.test(t)){let e=p.exec(t);t=t.replace(e[0],`<i>${e[1]}</i>`)}if(h.test(t)){let e=h.exec(t);t=t.replace(e[0],`<s>${e[1]}</s>`)}}return t}).join(" ")).split(" ").map((t,e)=>">"===t&&(0===e||">"===t[e-1])?"<q></q>":t).join(" "));return e}},98367:function(t,e,r){r.r(e),r.d(e,{dyte_markdown_view:function(){return o},dyte_text_message_view:function(){return a}});var n=r(84982),i=r(19218),s=r(60383);r(51943);let o=class{constructor(t){(0,n.r)(this,t),this.restoreEmpty=(t,e,r)=>0===t.trim().length?`${e}${t}${e}`:r(t),this.renderLink=t=>(0,n.h)("a",{class:"link",href:t,target:"_blank",rel:"noopener noreferrer"},t),this.renderBold=t=>"string"==typeof t?this.restoreEmpty(t,"*",t=>(0,n.h)("b",null,t)):(0,n.h)("b",null,this.renderTokens(t)),this.renderItalic=t=>"string"==typeof t?this.restoreEmpty(t,"_",t=>(0,n.h)("i",null,t)):(0,n.h)("i",null,this.renderTokens(t)),this.renderStrikethrough=t=>"string"==typeof t?this.restoreEmpty(t,"~",t=>(0,n.h)("s",null,t)):(0,n.h)("b",null,this.renderTokens(t)),this.renderPlainText=t=>"string"==typeof t?t:(0,n.h)("p",null,this.renderTokens(t)),this.renderTokens=t=>t.map(t=>{switch(t.type){case"a":if("string"==typeof t.content)return this.renderLink(t.content);case"b":return this.renderBold(t.content);case"i":return this.renderItalic(t.content);case"s":return this.renderStrikethrough(t.content);case"q":return(0,n.h)("span",{class:"block-quote"});default:return this.renderPlainText(t.content)}}),this.text=void 0,this.maxLength=i.M}render(){let t=this.text.slice(0,this.maxLength),e=(0,i.e)(t,!0),r=(0,i.s)(t);return(0,n.h)("p",null,0!==e.length&&(0,n.h)("blockquote",null,e.split("\n").map(t=>{let e=(0,i.p)(t);return(0,n.h)("p",null,this.renderTokens(e))})),r.split("\n").map(t=>{let e=(0,i.p)(t);return(0,n.h)("p",null,this.renderTokens(e))}))}};o.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{overflow-wrap:break-word}a{color:currentColor}.block-quote,blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;padding:var(--dyte-space-0\\.5, 2px);padding-left:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}";let a=class{constructor(t){(0,n.r)(this,t),this.text=void 0,this.isMarkdown=!1}render(){return(0,n.h)("p",{class:{text:!0,emoji:(0,s.h)(this.text)}},this.isMarkdown?(0,n.h)("dyte-markdown-view",{text:this.text}):this.text)}};a.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.text{display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}"},60383:function(t,e,r){r.d(e,{a:function(){return s},f:function(){return o},g:function(){return u},h:function(){return i},s:function(){return n}});let n=(t,e=20)=>null==t?"":t.length>e?`${t.substring(0,e)}...`:t,i=t=>/^\p{Emoji}+$/u.test(t)&&!/^\d+$/.test(t),s=t=>(null==t?void 0:t.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":t,o=t=>""===(t=null==t?void 0:t.trim())?"Participant":t,a=RegExp(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/,"g"),l=new RegExp(/\s+/);function u(t,e=2){return t.replace(a,"").trim().split(l).slice(0,e).map(t=>t.charAt(0)).join("").toUpperCase()}}}]);
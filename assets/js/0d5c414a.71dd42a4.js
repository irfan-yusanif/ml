"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["6907"],{74045:function(e,n,s){s.r(n),s.d(n,{default:()=>u,frontMatter:()=>o,metadata:()=>t,assets:()=>l,toc:()=>d,contentTitle:()=>a});var t=JSON.parse('{"id":"local-user/events","title":"Events","description":"Explore events related to local user interactions in Flutter. Follow our documentation for effective handling of local user events in your app.","source":"@site/docs/flutter-core/local-user/events.mdx","sourceDirName":"local-user","slug":"/local-user/events","permalink":"/flutter-core/local-user/events","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"flutter-core","permalink":"/flutter-core/tags/flutter-core"},{"inline":true,"label":"local-user","permalink":"/flutter-core/tags/local-user"},{"inline":true,"label":"self","permalink":"/flutter-core/tags/self"}],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Events","description":"Explore events related to local user interactions in Flutter. Follow our documentation for effective handling of local user events in your app.","sidebar_position":2,"tags":["flutter-core","local-user","self"]},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/flutter-core/local-user/introduction"},"next":{"title":"Manage Media Devices","permalink":"/flutter-core/local-user/manage-media-devices"}}'),i=s("85893"),r=s("50065");let o={title:"Events",description:"Explore events related to local user interactions in Flutter. Follow our documentation for effective handling of local user events in your app.",sidebar_position:2,tags:["flutter-core","local-user","self"]},a="Local User - Events",l={},d=[{value:"Video update",id:"video-update",level:3},{value:"Audio update",id:"audio-update",level:3},{value:"Proximity changed",id:"proximity-changed",level:3},{value:"Waitlist status",id:"waitlist-status",level:3},{value:"Local user removed",id:"local-user-removed",level:2},{value:"Screenshare callbacks for local user",id:"screenshare-callbacks-for-local-user",level:2},{value:"Change in audio/video source",id:"change-in-audiovideo-source",level:2},{value:"Process message within the room",id:"process-message-within-the-room",level:2}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components},{Head:s}=n;return!s&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"local-user---events",children:"Local User - Events"})}),"\n",(0,i.jsx)(n.p,{children:"You can subscribe to various local user events:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["To subscribe, pass the instance of ",(0,i.jsx)(n.code,{children:"LocalUserListener"})," class created below\nto ",(0,i.jsx)(n.code,{children:"addSelfEventsListener()"})," method of ",(0,i.jsx)(n.code,{children:"dyteClient"})," instance as follows:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",metastring:"{2}",children:"dyteClient.addSelfEventsListener(LocalUserListener());\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Implement ",(0,i.jsx)(n.code,{children:"DyteSelfEventsListener"})," to a class say ",(0,i.jsx)(n.code,{children:"LocalUserListener"}),", and\nlisten to event from ",(0,i.jsx)(n.code,{children:"DyteSelfEventsListener"})," by overriding them. This class\ncan be user to manage your state in the application."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class LocalUserListener implements DyteSelfEventsListener {\n\n  ...\n\n  @override\n  void onAudioDevicesUpdated() {\n    /// code to handle onAudioDevicesUpdated() event\n  }\n\n  ...\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"video-update",children:"Video update"}),"\n",(0,i.jsxs)(n.p,{children:["Triggered when the user starts / stops the video using ",(0,i.jsx)(n.code,{children:"enableVideo()"}),"/\n",(0,i.jsx)(n.code,{children:"disableVideo()"}),", or host turns-off the video."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class LocalUserListener implements DyteSelfEventsListener {\n\n  ...\n\n  @override\n  void onVideoUpdate(bool videoEnabled) {\n    if(isVideoEnabled){\n      // Video is enabled, other users can see the video.\n    } else {\n      // Video is disabled, others users can't see the video.\n    }\n\n  //  or alternatively you can pass the bool through state as demonstrated in example app.\n  }\n\n  ...\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"audio-update",children:"Audio update"}),"\n",(0,i.jsxs)(n.p,{children:["Triggered when the user starts / stops the audio using ",(0,i.jsx)(n.code,{children:"enableAudio()"}),"/\n",(0,i.jsx)(n.code,{children:"disableAudio()"}),", or host mutes the audio."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"\nclass LocalUserListener implements DyteSelfEventsListener {\n\n  ...\n\n  @override\n  void onAudioUpdate(bool audioEnabled) {\n    if (audioEnabled) {\n        // audio is enabled, and other participants in room can hear local user\n      } else {\n        // audio is disabled, and other participants in room can not hear local user.\n      }\n\n    //  or alternatively you can pass the bool through state as demonstrated in example app.\n  }\n  ...\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"proximity-changed",children:"Proximity changed"}),"\n",(0,i.jsx)(n.p,{children:"Triggered by any change in proximity, such as when the device is brought near or moved away from an earpiece, which triggers the display to turn on or off."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"\nclass LocalUserListener implements DyteSelfEventsListener {\n\n  ...\n\n  @override\n  void onProximityChanged(bool isNear) {\n    if (isNear) {\n        // Display should be turned off, as user might be speaking through ear piece\n      } else {\n        // Display should be tunred on, as user might be looking at display and listening through speaker/earphones.\n      }\n  }\n  ...\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"waitlist-status",children:"Waitlist status"}),"\n",(0,i.jsxs)(n.p,{children:["When the waiting room feature is enabled for a meeting, you can use the ",(0,i.jsx)(n.code,{children:"onWaitListStatusUpdate()"})," callback function to receive updates on waiting room status changes."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"\nclass LocalUserNotifier implements DyteSelfEventsListener {\n\n  ...\n\n  @override\n  void onWaitListStatusUpdate(DyteWaitListStatus waitListStatus) {\n    // DyteWaitListStatus is an enum with the following values:\n    // if `DyteWaitListStatus.none`, user is not on the waitlist\n    // if `DyteWaitListStatus.waiting`, user is on the waitlist\n    // if `DyteWaitListStatus.accepted`, user has been accepted in the meeting.\n    // if `DyteWaitListStatus.rejected`, user has been rejected from the meeting.\n  }\n\n  ...\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"local-user-removed",children:"Local user removed"}),"\n",(0,i.jsxs)(n.p,{children:["When the local user is removed from the meeting, the ",(0,i.jsx)(n.code,{children:"onRemovedFromMeeting()"})," callback is triggered."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"\nclass LocalUserNotifier implements DyteSelfEventsListener {\n\n  ...\n\n  @override\n  void onRemovedFromMeeting() {\n    // Display an alert to the user indicating that they are no longer in the meeting.\n  }\n\n  ...\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"screenshare-callbacks-for-local-user",children:"Screenshare callbacks for local user"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"\nclass LocalUserNotifier implements DyteSelfEventsListener {\n\n  ...\n\n\n  @override\n  void onScreenShareStartFailed(String reason) {\n    // screenshare failed to start\n  }\n\n  @override\n  void onScreenShareStarted() {\n    // screenshare started presenting in the meeting\n  }\n\n  @override\n  void onScreenShareStopped() {\n    // screenshared stopped by the local user\n  }\n\n  ...\n}\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"change-in-audiovideo-source",children:"Change in audio/video source"}),"\n",(0,i.jsxs)(n.p,{children:["Whenever user changes audio/video source using ",(0,i.jsx)(n.code,{children:"setAudioDevice(DyteAudioDevice)"})," and ",(0,i.jsx)(n.code,{children:"setVideoDevice(DyteVideoDevice)"})," respectively [ref: ",(0,i.jsx)(n.a,{href:"/flutter-core/local-user/manage-media-devices",children:"here"}),"], ",(0,i.jsx)(n.code,{children:"onAudioDevicesUpdated()"})," and ",(0,i.jsx)(n.code,{children:"onVideoDevicesChanged()"})," are triggered respectively."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"\nclass LocalUserNotifier implements DyteSelfEventsListener {\n\n  ...\n\n  @override\n  void onAudioDevicesUpdated() {\n    // triggered on successful execution of `setAudioDevice(DyteAudioDevice)`\n  }\n\n  @override\n  void onVideoDeviceChanged(DyteVideoDevice videoDevice) {\n    // triggered on successful execution of `setVideoDevice(DyteVideoDevice)`\n  }\n\n  ...\n\n}\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"process-message-within-the-room",children:"Process message within the room"}),"\n",(0,i.jsxs)(n.p,{children:["Manage messages within the room using ",(0,i.jsx)(n.code,{children:"onRoomMessage(String message)"})," callback."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"\nclass LocalUserNotifier implements DyteSelfEventsListener {\n\n  ...\n\n  @override\n  void onRoomMessage(String type, Map<String, dynamic> payload) {\n    // triggered when a message is sent within the room.\n  }\n\n  ...\n}\n"})}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("title",{children:"Flutter Core Events"}),(0,i.jsx)("meta",{name:"description",content:"Explore events related to local user interactions in Flutter. Follow our documentation for effective handling of local user events in your app."})]})]})}function u(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);